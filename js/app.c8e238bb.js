(function(e){function t(t){for(var r,i,o=t[0],c=t[1],l=t[2],d=0,f=[];d<o.length;d++)i=o[d],a[i]&&f.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),a=n.n(r);a.a},"0ab0":function(e,t,n){"use strict";var r=n("2b99"),a=n.n(r);a.a},1655:function(e,t,n){"use strict";var r=n("d3f3"),a=n.n(r);a.a},"2b99":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("744f"),n("6c7b"),n("7514"),n("20d6"),n("1c4c"),n("6762"),n("cadf"),n("e804"),n("55dd"),n("d04f"),n("c8ce"),n("217b"),n("7f7f"),n("f400"),n("7f25"),n("536b"),n("d9ab"),n("f9ab"),n("32d7"),n("25c9"),n("9f3c"),n("042e"),n("c7c6"),n("f4ff"),n("049f"),n("7872"),n("a69f"),n("0b21"),n("6c1a"),n("c7c62"),n("84b4"),n("c5f6"),n("2e37"),n("fca0"),n("7cdf"),n("ee1d"),n("b1b1"),n("87f3"),n("9278"),n("5df2"),n("04ff"),n("f751"),n("4504"),n("fee7"),n("ffc1"),n("0d6d"),n("9986"),n("8e6e"),n("25db"),n("e4f7"),n("b9a1"),n("64d5"),n("9aea"),n("db97"),n("66c8"),n("57f0"),n("165b"),n("456d"),n("cf6a"),n("fd24"),n("8615"),n("551c"),n("097d"),n("df1b"),n("2397"),n("88ca"),n("ba16"),n("d185"),n("ebde"),n("2d34"),n("f6b3"),n("2251"),n("c698"),n("a19f"),n("9253"),n("9275"),n("3b2b"),n("3846"),n("4917"),n("a481"),n("28a5"),n("386d"),n("6b54"),n("4f7f"),n("8a81"),n("ac4d"),n("8449"),n("9c86"),n("fa83"),n("48c0"),n("a032"),n("aef6"),n("d263"),n("6c37"),n("9ec8"),n("5695"),n("2fdb"),n("d0b0"),n("5df3"),n("b54a"),n("f576"),n("ed50"),n("788d"),n("14b9"),n("f386"),n("f559"),n("1448"),n("673e"),n("242a"),n("c66f"),n("b05c"),n("34ef"),n("6aa2"),n("15ac"),n("af56"),n("b6e4"),n("9c29"),n("63d9"),n("4dda"),n("10ad"),n("c02b"),n("4795"),n("130f"),n("ac6a"),n("96cf"),n("0cdd");var r=n("2b0e"),a=n("ecee"),s=n("c074"),i=n("ad3d");a["c"].add(s["a"]),r["default"].component("font-awesome-icon",i["a"]);var o=n("bc3a"),c=n.n(o),l={},u=c.a.create(l);u.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),u.interceptors.response.use(function(e){return e},function(e){return Promise.reject(e)}),Plugin.install=function(e,t){e.axios=u,window.axios=u,Object.defineProperties(e.prototype,{axios:{get:function(){return u}},$axios:{get:function(){return u}}})},r["default"].use(Plugin);Plugin;var d=n("5f5b");n("ab8b"),n("2dd8");r["default"].use(d["a"]);var f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("MainPage",{directives:[{name:"show",rawName:"v-show",value:e.mainPageShow,expression:"mainPageShow"}],attrs:{defaultCountPlayers:e.defaultCountPlayers},on:{SetPlayers:e.SetPlayers}}),n("GamePanel",{directives:[{name:"show",rawName:"v-show",value:e.gamePanelShow,expression:"gamePanelShow"}],attrs:{cards:e.cards,players:e.players},on:{EndGame:e.EndGame}}),n("EndGamePanel",{directives:[{name:"show",rawName:"v-show",value:e.endGamePanelShow,expression:"endGamePanelShow"}]}),n("b-modal",{attrs:{id:"modal-error",centered:"","hide-header":"","hide-footer":""}},[n("h4",[e._v("Заполните имена всех игроков")]),n("p",{staticClass:"my-4"},[e._v("Чтобы продолжить, заполни имена всех игроков")]),n("b-button",{attrs:{variant:"outline-info"},on:{click:function(t){return e.$bvModal.hide("modal-error")}}},[e._v("Извините, больше так не буду")])],1)],1)},h=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container main-page"},[e._m(0),n("PlayersPanel",{attrs:{players:e.players,defaultCountPlayers:e.defaultCountPlayers},on:{AddNewPlayer:e.AddNewPlayer}}),n("b-button",{staticClass:"btn-play",on:{click:e.StartGame}},[n("div",{staticClass:"font-icon"},[n("font-awesome-icon",{attrs:{icon:"play"}})],1),e._v(" \n        Начать\n    ")])],1)},m=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logo"},[n("span",[e._v("АлкоИгрища")])])}],y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"players-panel"},[e._l(e.countPlayers,function(t){return n("b-form-input",{key:t,attrs:{placeholder:"Игрок "+[[t]]},model:{value:e.players[t],callback:function(n){e.$set(e.players,t,n)},expression:"players[index]"}})}),n("button",{staticClass:"btn-plus",on:{click:e.AddNewPlayer}},[n("font-awesome-icon",{attrs:{icon:"plus-circle"}})],1)],2)},v=[],b={name:"PlayersPanel",props:{players:Array,defaultCountPlayers:Number},data:function(){return{countPlayers:Number}},methods:{AddNewPlayer:function(){this.countPlayers++,this.$emit("AddNewPlayer",this.countPlayers)}},mounted:function(){this.countPlayers=this.defaultCountPlayers}},P=b,g=(n("1655"),n("2877")),w=Object(g["a"])(P,y,v,!1,null,null,null),C=w.exports,S={name:"MainPage",components:{PlayersPanel:C},props:{defaultCountPlayers:Number},data:function(){return{players:[],currentCountPlayers:Number}},methods:{StartGame:function(){this.$emit("SetPlayers",this.players,this.currentCountPlayers)},AddNewPlayer:function(e){this.currentCountPlayers=e}},mounted:function(){this.currentCountPlayers=this.defaultCountPlayers}},_=S,x=(n("59f2"),Object(g["a"])(_,p,m,!1,null,null,null)),j=x.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-panel"},[n("Card",{attrs:{card:e.cards[e.currentCard],players:e.players}}),n("b-button",{attrs:{variant:"light"},on:{click:e.SwitchCard}},[e._v("Продолжить")])],1)},M=[],G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card-container"},[n("div",{staticClass:"game-card"},[n("span",{staticClass:"title"},[e._v(" "+e._s(e.SetCardTitle)+" ")]),n("span",[e._v(" "+e._s(e.SetCardText)+" ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.SetTimer,expression:"SetTimer"}],staticClass:"timer"},[n("b-progress",{attrs:{max:e.timerMax}},[n("b-progress-bar",{attrs:{value:e.timerValue}},[n("div",{staticClass:"time"},[e._v(e._s(e.GetTime))])])],1),n("b-button",{on:{click:e.StartTimer}},[e._v("Старт")])],1)])},$=[],N={name:"GamePanel",props:{card:Object,players:Array},data:function(){return{cardText:"",codes:["name","panish"],currentPlayers:[],timerMax:0,timerValue:0,timer:null,timerDate:null}},computed:{SetCardText:function(){var e=this.card.text;e=e.split(/\{{(.*?)\}}/);this.codes;this.currentPlayers=this.players.slice();for(var t=0;t<e.length;t++)-1!=this.codes.indexOf(e[t])&&(e[t]=this.ReplaceCode(e[t]));return e=e.join(""),console.log(this.card.type),e},SetCardTitle:function(){switch(this.card.type){case"virus":return"вирус";case"virus-end":return"вирус";case"simple":return"";case"copy-shot":return"внезапный шот"}},SetTimer:function(){return void 0!==this.card.timer&&(this.timerMax=60*this.card.timer,this.timerValue=60*this.card.timer,!0)},GetTime:function(){var e="",t=Math.ceil(this.timerValue/60),n=this.timerValue%60;return n<10&&(n="0"+n),e=t+":"+n,e}},methods:{ReplaceCode:function(e){var t,n;switch(e){case"name":return t=this.RngInt(1,this.currentPlayers.length-1),n=this.currentPlayers[t],this.currentPlayers.splice(t,t),n;case"panish":switch(this.card.mode){case 1:return this.RngInt(1,3)+" глотка(ов)";case 2:return this.RngInt(4,6);case 3:var r=this.RngInt(1,3);if(1==r)return 7;if(2==r)return"до дна";if(3==r)return"шот"}}},RngInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},StartTimer:function(){this.timer=setInterval(function(){this.timerValue--,console.log(this.timerValue)}.bind(this),1e3)}},watch:{card:function(){}},beforeUpdate:function(){}},T=N,E=(n("0ab0"),Object(g["a"])(T,G,$,!1,null,null,null)),R=E.exports,k={name:"GamePanel",components:{Card:R},props:{cards:Array,players:Array},data:function(){return{currentCard:0}},methods:{SwitchCard:function(){this.currentCard+1<this.cards.length?this.currentCard++:this.$emit("EndGame")}}},A=k,I=(n("c756"),Object(g["a"])(A,O,M,!1,null,null,null)),V=I.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n    Усё\n")])},q=[],D={},U=D,z=Object(g["a"])(U,J,q,!1,null,null,null),B=z.exports,F={name:"app",components:{MainPage:j,GamePanel:V,EndGamePanel:B},data:function(){return{players:[],defaultCountPlayers:2,currentCountPlayers:Number,cards:[{text:"",type:"",mode:0}],mainPageShow:!0,gamePanelShow:!1,endGamePanelShow:!1}},methods:{SetPlayers:function(e,t){if(this.currentCountPlayers=t,this.players=e,0!=this.players.length){if(this.players.length-1==this.currentCountPlayers)for(var n=1;n<this.players.length;n++)if(""==this.players[n]||null==this.players[n])return void this.$bvModal.show("modal-error");this.mainPageShow=!1,this.gamePanelShow=!0}else this.$bvModal.show("modal-error")},EndGame:function(){this.gamePanelShow=!1,this.endGamePanelShow=!0},SetCards:function(e){e=e.sort(function(){return Math.random()-.5}),console.log("--------"),console.log(e),console.log("--------");for(var t=0;t<e.length;t++){if("virus"===e[t].type){var n=Object.assign({},e[t].secondCard);e.length-t>5?e.splice(this.RngInt(t+3,t+5),0,n):e.splice(e.length,0,n)}if("shot"===e[t].type){e[t].type="copy-shot";var r=this.RngInt(2,5);console.log(r);n=Object.assign({},e[t].secondCard);console.log(e);for(var a=0;a<r;a++)e.splice(this.RngInt(0,e.length),0,n)}}return e},RngInt:function(e,t){var n=e+Math.floor(Math.random()*(t-e+1));return n}},mounted:function(){var e=this;this.currentCountPlayers=this.defaultCountPlayers,c.a.get("json/cards.json").then(function(t){e.cards=e.SetCards(t.data.arrayCards)})}},H=F,K=(n("034f"),Object(g["a"])(H,f,h,!1,null,null,null)),L=K.exports;r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(L)}}).$mount("#app")},"59f2":function(e,t,n){"use strict";var r=n("e112"),a=n.n(r);a.a},"64a9":function(e,t,n){},c756:function(e,t,n){"use strict";var r=n("ecec"),a=n.n(r);a.a},d3f3:function(e,t,n){},e112:function(e,t,n){},ecec:function(e,t,n){}});
//# sourceMappingURL=app.c8e238bb.js.map