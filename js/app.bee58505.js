(function(e){function t(t){for(var a,i,o=t[0],l=t[1],c=t[2],d=0,f=[];d<o.length;d++)i=o[d],n[i]&&f.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},s=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var a=r("64a9"),n=r.n(a);n.a},"0ab0":function(e,t,r){"use strict";var a=r("2b99"),n=r.n(a);n.a},1655:function(e,t,r){"use strict";var a=r("d3f3"),n=r.n(a);n.a},"2b99":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("744f"),r("6c7b"),r("7514"),r("20d6"),r("1c4c"),r("6762"),r("cadf"),r("e804"),r("55dd"),r("d04f"),r("c8ce"),r("217b"),r("7f7f"),r("f400"),r("7f25"),r("536b"),r("d9ab"),r("f9ab"),r("32d7"),r("25c9"),r("9f3c"),r("042e"),r("c7c6"),r("f4ff"),r("049f"),r("7872"),r("a69f"),r("0b21"),r("6c1a"),r("c7c62"),r("84b4"),r("c5f6"),r("2e37"),r("fca0"),r("7cdf"),r("ee1d"),r("b1b1"),r("87f3"),r("9278"),r("5df2"),r("04ff"),r("f751"),r("4504"),r("fee7"),r("ffc1"),r("0d6d"),r("9986"),r("8e6e"),r("25db"),r("e4f7"),r("b9a1"),r("64d5"),r("9aea"),r("db97"),r("66c8"),r("57f0"),r("165b"),r("456d"),r("cf6a"),r("fd24"),r("8615"),r("551c"),r("097d"),r("df1b"),r("2397"),r("88ca"),r("ba16"),r("d185"),r("ebde"),r("2d34"),r("f6b3"),r("2251"),r("c698"),r("a19f"),r("9253"),r("9275"),r("3b2b"),r("3846"),r("4917"),r("a481"),r("28a5"),r("386d"),r("6b54"),r("4f7f"),r("8a81"),r("ac4d"),r("8449"),r("9c86"),r("fa83"),r("48c0"),r("a032"),r("aef6"),r("d263"),r("6c37"),r("9ec8"),r("5695"),r("2fdb"),r("d0b0"),r("5df3"),r("b54a"),r("f576"),r("ed50"),r("788d"),r("14b9"),r("f386"),r("f559"),r("1448"),r("673e"),r("242a"),r("c66f"),r("b05c"),r("34ef"),r("6aa2"),r("15ac"),r("af56"),r("b6e4"),r("9c29"),r("63d9"),r("4dda"),r("10ad"),r("c02b"),r("4795"),r("130f"),r("ac6a"),r("96cf"),r("0cdd");var a=r("2b0e"),n=r("ecee"),s=r("c074"),i=r("ad3d");n["c"].add(s["a"]),a["default"].component("font-awesome-icon",i["a"]);var o=r("bc3a"),l=r.n(o),c={},u=l.a.create(c);u.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),u.interceptors.response.use(function(e){return e},function(e){return Promise.reject(e)}),Plugin.install=function(e,t){e.axios=u,window.axios=u,Object.defineProperties(e.prototype,{axios:{get:function(){return u}},$axios:{get:function(){return u}}})},a["default"].use(Plugin);Plugin;var d=r("5f5b");r("ab8b"),r("2dd8");a["default"].use(d["a"]);var f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"bg"}),r("MainPage",{directives:[{name:"show",rawName:"v-show",value:e.mainPageShow,expression:"mainPageShow"}],attrs:{defaultCountPlayers:e.defaultCountPlayers},on:{SetPlayers:e.SetPlayers}}),r("GamePanel",{directives:[{name:"show",rawName:"v-show",value:e.gamePanelShow,expression:"gamePanelShow"}],attrs:{cards:e.cards,players:e.players},on:{EndGame:e.EndGame}}),r("EndGamePanel",{directives:[{name:"show",rawName:"v-show",value:e.endGamePanelShow,expression:"endGamePanelShow"}]}),r("b-modal",{attrs:{id:"modal-error",centered:"","hide-header":"","hide-footer":""}},[r("h4",[e._v("Заполните имена всех игроков")]),r("p",{staticClass:"my-4"},[e._v("Чтобы продолжить, заполни имена всех игроков")]),r("b-button",{attrs:{variant:"outline-info"},on:{click:function(t){return e.$bvModal.hide("modal-error")}}},[e._v("Извините, больше так не буду")])],1)],1)},h=[],p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container main-page"},[e._m(0),r("PlayersPanel",{attrs:{players:e.players,defaultCountPlayers:e.defaultCountPlayers},on:{AddNewPlayer:e.AddNewPlayer}}),r("b-button",{staticClass:"btn-play",on:{click:e.StartGame}},[r("div",{staticClass:"font-icon"},[r("font-awesome-icon",{attrs:{icon:"play"}})],1),e._v(" \n        Начать\n    ")])],1)},m=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"logo"},[r("span",[e._v("Остаться в живых")])])}],v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"players-panel-container"},[r("div",{staticClass:"players-panel"},e._l(e.countPlayers,function(t){return r("b-form-input",{key:t,attrs:{placeholder:"Игрок "+[[t]]},model:{value:e.players[t],callback:function(r){e.$set(e.players,t,r)},expression:"players[index]"}})}),1),r("button",{staticClass:"btn-plus",on:{click:e.AddNewPlayer}},[r("font-awesome-icon",{attrs:{icon:"plus-circle"}})],1)])},b=[],y={name:"PlayersPanel",props:{players:Array,defaultCountPlayers:Number},data:function(){return{countPlayers:Number}},methods:{AddNewPlayer:function(){this.countPlayers++,this.$emit("AddNewPlayer",this.countPlayers)}},mounted:function(){this.countPlayers=this.defaultCountPlayers}},P=y,g=(r("1655"),r("2877")),C=Object(g["a"])(P,v,b,!1,null,null,null),w=C.exports,S={name:"MainPage",components:{PlayersPanel:w},props:{defaultCountPlayers:Number},data:function(){return{players:[],currentCountPlayers:Number}},methods:{StartGame:function(){this.$emit("SetPlayers",this.players,this.currentCountPlayers)},AddNewPlayer:function(e){this.currentCountPlayers=e}},mounted:function(){this.currentCountPlayers=this.defaultCountPlayers}},_=S,x=(r("59f2"),Object(g["a"])(_,p,m,!1,null,null,null)),j=x.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"game-panel"},[r("b-progress",{attrs:{value:e.currentCard+1,max:e.cards.length,"show-value":""}}),r("Card",{attrs:{card:e.cards[e.currentCard],players:e.players}}),r("b-button",{staticClass:"shadow",attrs:{variant:"light"},on:{click:e.SwitchCard}},[e._v("Продолжить")])],1)},M=[],G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-container"},[r("div",{staticClass:"game-card"},[r("span",{staticClass:"title"},[e._v(" "+e._s(e.SetCardTitle)+" ")]),r("span",{staticClass:"subtitle"},[e._v(e._s(e.SetCardSubTitle))]),r("span",[e._v(" "+e._s(e.SetCardText)+" ")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.SetTimer,expression:"SetTimer"}],staticClass:"timer"},[r("b-progress",{attrs:{max:e.timerMax}},[r("b-progress-bar",{attrs:{value:e.timerValue}},[r("div",{staticClass:"time"},[e._v(e._s(e.GetTime))])])],1),r("b-button",{on:{click:e.StartTimer}},[e._v("Старт")])],1)])},T=[],$={name:"GamePanel",props:{card:Object,players:Array},data:function(){return{cardText:"",codes:["name","panish"],currentPlayers:[],timerMax:0,timerValue:0,timer:null,timerDate:null}},computed:{SetCardText:function(){var e=this.card.text;e=e.split(/\{{(.*?)\}}/);this.codes;this.currentPlayers=this.players.slice(),this.timerMax=0,this.timerValue=0;for(var t=0;t<e.length;t++)-1!=this.codes.indexOf(e[t])&&(e[t]=this.ReplaceCode(e[t]));return e=e.join(""),e},SetCardTitle:function(){switch(this.card.type){case"virus":return"вирус";case"virus-end":return"вирус";case"simple":return"Задание";case"shot":return"внезапный шот";case"poll":return"опрос"}},SetCardSubTitle:function(){return this.card.subtitle},SetTimer:function(){return void 0!==this.card.timer&&(this.timerMax=60*this.card.timer,this.timerValue=60*this.card.timer,!0)},GetTime:function(){var e="",t=this.timerValue%60,r=(this.timerValue-t)/60;return t<10&&(t="0"+t),e=r+":"+t,0==this.timerValue&&(console.log("timer stop"),clearInterval(this.timer)),e}},methods:{ReplaceCode:function(e){var t,r;switch(e){case"name":return t=this.RngInt(1,this.currentPlayers.length-1),r=this.currentPlayers[t],this.currentPlayers.splice(t,t),r;case"panish":switch(this.card.mode){case 1:return this.RngInt(1,3)+" глотка(ов)";case 2:return this.RngInt(4,5)+" глотка(ов)";case 3:var a=this.RngInt(1,4);if(1==a)return"6 глотка(ов)";if(2==a)return"7 глотка(ов)";if(3==a)return"до дна";if(4==a)return"шот"}}},RngInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},StartTimer:function(){var e=this;this.timer=setInterval(function(){e.timerValue--,console.log(e.timerValue)},1e3)}},watch:{card:function(){}},beforeUpdate:function(){}},N=$,E=(r("0ab0"),Object(g["a"])(N,G,T,!1,null,null,null)),k=E.exports,A={name:"GamePanel",components:{Card:k},props:{cards:Array,players:Array},data:function(){return{currentCard:0}},methods:{SwitchCard:function(){this.currentCard+1<this.cards.length?this.currentCard++:this.$emit("EndGame")}}},I=A,R=(r("c756"),Object(g["a"])(I,O,M,!1,null,null,null)),V=R.exports,J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v("\n    Усё\n")])},q=[],D={},U=D,z=Object(g["a"])(U,J,q,!1,null,null,null),B=z.exports,F=(r("5118"),{name:"app",components:{MainPage:j,GamePanel:V,EndGamePanel:B},data:function(){return{players:[],defaultCountPlayers:2,currentCountPlayers:Number,cards:[{text:"",type:"",mode:0}],mainPageShow:!0,gamePanelShow:!1,endGamePanelShow:!1}},methods:{SetPlayers:function(e,t){if(this.currentCountPlayers=t,this.players=e,0!=this.players.length){if(this.players.length-1==this.currentCountPlayers)for(var r=1;r<this.players.length;r++)if(""==this.players[r]||null==this.players[r])return void this.$bvModal.show("modal-error");this.mainPageShow=!1,this.gamePanelShow=!0}else this.$bvModal.show("modal-error")},EndGame:function(){this.gamePanelShow=!1,this.endGamePanelShow=!0},SetCards:function(e){for(var t=0;t<e.length;t++)if(0!=e[t].repeat&&void 0!=e[t].repeat){var r=e[t].repeat-1;e[t].repeat=0;for(var a=Object.assign({},e[t]),n=0;n<r;n++)e.splice(t+1,0,a)}e=e.sort(function(){return Math.random()-.5});for(t=0;t<e.length;t++){if("virus"===e[t].type){var s=Object.assign({},e[t].secondCard);e.length-t>5?e.splice(this.RngInt(t+4,t+7),0,s):e.splice(e.length,0,s)}void 0!=e[t].nextCard&&null!=e[t].nextCard&&e.splice(t+1,0,e[t].nextCard)}return console.log("--------"),console.log(e),console.log("--------"),e},RngInt:function(e,t){var r=e+Math.floor(Math.random()*(t-e+1));return r}},mounted:function(){var e=this;this.currentCountPlayers=this.defaultCountPlayers,l.a.get("json/cards.json").then(function(t){e.cards=e.SetCards(t.data.arrayCards)})}}),H=F,K=(r("034f"),Object(g["a"])(H,f,h,!1,null,null,null)),L=K.exports;a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(L)}}).$mount("#app")},"59f2":function(e,t,r){"use strict";var a=r("e112"),n=r.n(a);n.a},"64a9":function(e,t,r){},c756:function(e,t,r){"use strict";var a=r("ecec"),n=r.n(a);n.a},d3f3:function(e,t,r){},e112:function(e,t,r){},ecec:function(e,t,r){}});
//# sourceMappingURL=app.bee58505.js.map